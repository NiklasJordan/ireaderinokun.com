"use strict";function handleSitePageActivation(e){function t(e){return o>e.start-window.innerHeight/2&&o<e.end-window.innerHeight/5}var o=e.target.body.scrollTop;sitePageSections.forEach(function(e){t(e)?(e.element.classList.add("site-page--active"),e.element.classList.remove("site-page--inactive")):(e.element.classList.remove("site-page--active"),e.element.classList.add("site-page--inactive"))})}function initialiseSlideshow(){slideElements.forEach(function(e){e.addEventListener("mouseenter",function(e){changeSlideBackground(e.target)})})}function changeSlideBackground(e){var t=e.dataset.slide;slideshowBackground.style.backgroundImage="url("+t+")"}function scrollScreenshot(e,t){var o=e.style.transform?e.style.transform:"translateY(0%)";switch(o=o.split("(")[1],o=o.split("%")[0],t){case"down":o=parseFloat(o)-.5;break;case"up":o=parseFloat(o)+.5}o<.5&&o>-100&&(e.style.transform="translateY("+o+"%)")}function resetScreenshot(e){e.style.transition="transform 0.5s",e.style.transform="translateY(0%)",setTimeout(function(){e.style.transition="none"},1e3)}var EPPZScrollTo={documentVerticalScrollPosition:function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},viewportHeight:function(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},documentHeight:function(){return void 0!==document.height?document.height:document.body.offsetHeight},documentMaximumScrollPosition:function(){return this.documentHeight()-this.viewportHeight()},elementVerticalClientPositionById:function(e){var t=document.getElementById(e),o=t.getBoundingClientRect();return o.top},scrollVerticalTickToPosition:function(e,t){var o=.2,n=60,i=parseFloat(t)-parseFloat(e),r=Math.abs(i)<=.5;return r?void scrollTo(0,t):(e=parseFloat(e)*(1-o)+parseFloat(t)*o,scrollTo(0,Math.round(e)),void setTimeout("EPPZScrollTo.scrollVerticalTickToPosition("+e+", "+t+")",1e3/n))},scrollVerticalToElementById:function(e,t){var o=document.getElementById(e);if(null==o)return void console.warn("Cannot find element with id '"+e+"'.");var n=this.documentVerticalScrollPosition()+this.elementVerticalClientPositionById(e)-t,i=this.documentVerticalScrollPosition(),r=this.documentMaximumScrollPosition();n>r&&(n=r),this.scrollVerticalTickToPosition(i,n)}},sitePageEls=document.querySelectorAll(".site-page"),sitePageSections=[];sitePageEls.forEach(function(e){sitePageSections.push({element:e,start:e.offsetTop,end:e.offsetTop+e.clientHeight})}),window.addEventListener("scroll",function(e){handleSitePageActivation(e)}),!function(){var e=function(){},t=function(){c<r.length-1?(c++,o(c)):setTimeout(function(){e()},300)},o=function(){return" "===r[c]&&" "===r[c-1]?t():(n.innerHTML+=r[c],void setTimeout(function(){t()},50))},n=document.querySelector(".typed"),i=(n.innerHTML,n.textContent);n.innerHTML="";var r=i.split(""),c=0;o()}();var slideElements=Array.from(document.querySelectorAll("[data-slide]")),slideshowBackground=document.querySelector(".slideshow-background");slideshowBackground&&initialiseSlideshow();var workSectionElement=document.querySelector(".site-page--work"),workSections=[],workSectionElements=document.querySelectorAll(".work");workSectionElements.forEach(function(e){console.log(e),workSections.push({element:e,start:e.offsetTop+workSectionElement.offsetTop-window.innerHeight/2,end:e.offsetTop+workSectionElement.offsetTop+e.clientHeight})});var lastScrollTop=0;window.addEventListener("scroll",function(e){function t(){return lastScrollTop>=n?"up":"down"}function o(e){return n>e.start&&n<e.end}var n=e.target.body.scrollTop;workSections.forEach(function(e){var n=e.element.querySelector(".work-screenshot");return o(e)?void scrollScreenshot(n,t()):resetScreenshot(n)}),lastScrollTop=n});var articleElements=Array.from(document.querySelectorAll(".excerpts-highlightEffect .excerpt"));articleElements&&!function(){var e=function(e){articleElements.forEach(function(e){e.classList.add("inactive"),e.classList.remove("active")}),e.classList.remove("inactive"),e.classList.add("active")},t=function(){articleElements.forEach(function(e){e.classList.remove("inactive"),e.classList.remove("active")})};articleElements.forEach(function(o){o.addEventListener("mouseenter",function(t){e(t.target)}),o.addEventListener("mouseleave",function(e){t()})})}();