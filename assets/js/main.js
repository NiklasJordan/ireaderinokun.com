"use strict";function finish(){}function next(){index<sentenceArray.length-1?(index++,addLetter(index)):setTimeout(function(){finish()},300)}function addLetter(){return" "===sentenceArray[index]&&" "===sentenceArray[index-1]?next():(typedElement.innerHTML+=sentenceArray[index],void setTimeout(function(){next()},50))}function initialiseSlideshow(){slideElements.forEach(function(e){e.addEventListener("mouseenter",function(e){changeSlideBackground(e.target)})})}function changeSlideBackground(e){var t=e.dataset.slide;slideshowBackground.style.backgroundImage="url("+t+")"}function scrollScreenshot(e,t){var n=e.style.transform?e.style.transform:"translateY(0%)";switch(n=n.split("(")[1],n=n.split("%")[0],t){case"down":n=parseFloat(n)-.5;break;case"up":n=parseFloat(n)+.5}n<.5&&n>-100&&(e.style.transform="translateY("+n+"%)")}function resetScreenshot(e){e.style.transition="transform 0.5s",e.style.transform="translateY(0%)",setTimeout(function(){e.style.transition="none"},1e3)}var typedElement=document.querySelector(".typed"),originalSentenceHTML=typedElement.innerHTML,sentenceTextContent=typedElement.textContent;typedElement.innerHTML="";var sentenceArray=sentenceTextContent.split(""),index=0;addLetter();var slideElements=Array.from(document.querySelectorAll("[data-slide]")),slideshowBackground=document.querySelector(".slideshow-background");slideshowBackground&&initialiseSlideshow();var workSectionElement=document.querySelector(".site-page--work"),workSections=[],workSectionElements=document.querySelectorAll(".work");workSectionElements.forEach(function(e){console.log(e),workSections.push({element:e,start:e.offsetTop+workSectionElement.offsetTop-window.innerHeight/2,end:e.offsetTop+workSectionElement.offsetTop+e.clientHeight})});var lastScrollTop=0;window.addEventListener("scroll",function(e){function t(){return lastScrollTop>=o?"up":"down"}function n(e){return o>e.start&&o<e.end}var o=e.target.body.scrollTop;workSections.forEach(function(e){var o=e.element.querySelector(".work-screenshot");return n(e)?void scrollScreenshot(o,t()):resetScreenshot(o)}),lastScrollTop=o});var EPPZScrollTo={documentVerticalScrollPosition:function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},viewportHeight:function(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight},documentHeight:function(){return void 0!==document.height?document.height:document.body.offsetHeight},documentMaximumScrollPosition:function(){return this.documentHeight()-this.viewportHeight()},elementVerticalClientPositionById:function(e){var t=document.getElementById(e),n=t.getBoundingClientRect();return n.top},scrollVerticalTickToPosition:function(e,t){var n=.2,o=60,i=parseFloat(t)-parseFloat(e),r=Math.abs(i)<=.5;return r?void scrollTo(0,t):(e=parseFloat(e)*(1-n)+parseFloat(t)*n,scrollTo(0,Math.round(e)),void setTimeout("EPPZScrollTo.scrollVerticalTickToPosition("+e+", "+t+")",1e3/o))},scrollVerticalToElementById:function(e,t){var n=document.getElementById(e);if(null==n)return void console.warn("Cannot find element with id '"+e+"'.");var o=this.documentVerticalScrollPosition()+this.elementVerticalClientPositionById(e)-t,i=this.documentVerticalScrollPosition(),r=this.documentMaximumScrollPosition();o>r&&(o=r),this.scrollVerticalTickToPosition(i,o)}},articleElements=Array.from(document.querySelectorAll(".excerpts-highlightEffect .excerpt"));articleElements&&!function(){var e=function(e){articleElements.forEach(function(e){e.classList.add("inactive"),e.classList.remove("active")}),e.classList.remove("inactive"),e.classList.add("active")},t=function(){articleElements.forEach(function(e){e.classList.remove("inactive"),e.classList.remove("active")})};articleElements.forEach(function(n){n.addEventListener("mouseenter",function(t){e(t.target)}),n.addEventListener("mouseleave",function(e){t()})})}();var sitePages=document.querySelectorAll(".site-page"),sitePageSections=[];sitePages.forEach(function(e){sitePageSections.push({element:e,start:e.offsetTop,end:e.offsetTop+e.clientHeight})}),window.addEventListener("scroll",function(e){function t(e){return n>e.start-window.innerHeight/2&&n<e.end-window.innerHeight/5}var n=e.target.body.scrollTop;sitePageSections.forEach(function(e){t(e)?(e.element.classList.add("site-page--active"),e.element.classList.remove("site-page--inactive")):(e.element.classList.remove("site-page--active"),e.element.classList.add("site-page--inactive"))})});